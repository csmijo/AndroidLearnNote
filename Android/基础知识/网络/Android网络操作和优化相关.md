#Android网络操作和优化相关

`Android` `Socket` `Tcp/Ip` `Http`

--


##1. 网络通信机制

网络由下往上分为：**物理层、数据链路层、网络层、传输层、会话层、表示层和应用层**。

**IP协议**对应于网络层，**TCP协议**对应于传输层，**HTTP协议**对应于应用层，三者从本质上来说没有可比性，**socket**则是对TCP/IP协议的封装和应用。也可以说，**TPC/IP协议**是传输层协议，主要解决数据如何在网络中传输，而**HTTP协议**是应用层协议，主要解决如何包装数据。

##2. TCP/IP 协议

网络编程的目的就是直接或间接地通过网络协议与其他计算机进行通讯。

网络编程中有**两个主要的问题**，**一个是**如何准确的定位网络上一台或多台主机；**另一个**就是找到主机后如何可靠高效的进行数据传输。目前使用最广泛的因特网协议是**TCP/IP协议**。

在TCP/IP协议中IP层主要负责网络主机的定位，数据传输的路由，由IP地址可以唯一地确定Internet上的一台主机。而TCP层则提供面向应用的可靠的或非可靠的数据传输机制，这是网络编程的主要对象，一般不需要关心IP层是如何处理数据的。

##3. Socket

我们知道两个进程如果需要进行通讯最基本的一个前提能能够唯一的标示一个进程，在本地进程通讯中我们可以使用PID来唯一标示一个进程，但PID只在本地唯一，网络中的两个进程PID冲突几率很大，这时候我们需要另辟它径了，我们知道IP层的ip地址可以唯一标示主机，而TCP层协议和端口号可以唯一标示主机的一个进程，这样我们可以利用**ip地址＋协议＋端口号唯一标示网络中的一个进程**。

能够唯一标示网络中的进程后，它们就可以利用socket进行通信了，什么是socket呢？我们经常把socket翻译为套接字，**socket是在应用层和传输层之间的一个抽象层**，它把TCP/IP层复杂的操作抽象为几个简单的接口供应用层调用已实现进程在网络中通信。

Socket跟TCP/IP协议没有必然的联系。Socket编程接口在设计的时候，就希望也能适应其他的网络协议。所以说，**Socket的出现只是使得程序员更方便地使用TCP/IP协议栈而已，是对TCP/IP协议的抽象**。

##4. Http 协议

HTTP协议即超文本传送协议(Hypertext Transfer Protocol )，是Web联网的基础，也是手机联网常用的协议之一，HTTP协议是建立在TCP协议之上的一种应用。

**HTTP连接最显著的特点**是客户端发送的每次请求都需要服务器回送响应，在请求结束后，会主动释放连接。从建立连接到关闭连接的过程称为“一次连接”。

**HTTP提供了封装或者显示数据的具体形式。Socket提供了网络通信的能力。**

##5. Https 协议

HTTPS（全称：Hypertext Transfer Protocol over Secure Socket Layer），**是以安全为目标的HTTP通道，简单讲是HTTP的安全版**。**即HTTP下加入SSL层，HTTPS的安全基础是SSL**，因此加密的详细内容就需要SSL。 它是一个URI scheme（抽象标识符体系），句法类同http:体系。用于安全的HTTP数据传输。https:URL表明它使用了HTTP，但HTTPS存在不同于HTTP的默认端口及一个加密/身份验证层（在HTTP与TCP之间）。被广泛用于万维网上安全敏感的通讯，例如交易支付方面。

##6. Android 网络权限

```xml
<uses-permission android:name="android.permission.INTERNET" />/*允许应用程序打开网络套接字*/
<uses-permission android:name="android.permission.ACCESS_NETWORK_STATE" />/*允许应用程序访问网络连接信息*/
```

--
[参考文献]

* [Android 网络操作和优化相关](http://android.jobbole.com/83394/)